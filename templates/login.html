<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Login</title>
<link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">
</head>

<body>

<section class="booking-container">
<div class="booking-card">

<h2>–í—Ö—ñ–¥ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ üîê</h2>

<input id="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
<button class="next-btn" onclick="login()">–£–≤—ñ–π—Ç–∏</button>

<div id="msg" class="success-msg" style="display:none"></div>

</div>
</section>

<script>
async function login(){
  const form = new FormData();
  form.append("password", document.getElementById("password").value);

  const res = await fetch("/login",{
      method:"POST",
      body:form,
      credentials:"include"   // ‚≠ê –í–ê–ñ–õ–ò–í–û
  });

  const data = await res.json();

  if(data.ok){
    window.location="/admin";
  } else {
    document.getElementById("msg").innerText="–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å";
    document.getElementById("msg").style.display="block";
  }
}
</script>

</body>
</html>